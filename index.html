<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Click, Click, BOOM ðŸ’¥</title>
  <link rel="icon" href="https://fav.farm/ðŸ’£">
  <style>
    table {
      background-color: #450084;
      min-width: 25rem;
      min-height: 25rem;
    }

    td {
      background-color: wheat;
      border: 0.25rem solid #8EE4D7 ;
    }

    .odd td {
      background-color: #333333;
    }
  </style>
</head>
<body>
  <h1></h1>
  <table>
    <tbody id="tbl">
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <!-- Click3.wav by EdgardEdition -- https://freesound.org/s/113093/ -- License: Attribution 3.0 -->
  <audio id="click" src="113093__edgardedition__click3.wav"></audio>

  <!-- Boom_C_02 by cabled_mess -- https://freesound.org/s/350975/ -- License: Creative Commons 0 -->
  <audio id="boom" src="350975__cabled_mess__boom_c_02.wav"></audio>
  <script>
    let clickCount = 0;
  const clickSound = document.getElementById('click')
  const boomSound = document.getElementById('boom')
  let lastSound = clickSound;

  const tb = document.querySelector('#tbl');
  const head = document.querySelector("h1");



  function onClick(ev) {

    lastSound.pause();
    lastSound.currentTime = 0;
    clickCount++;
    if (clickCount % 3 === 0) {
      boomSound.play();
      lastSound = boomSound;
      head.textContent = "BOOM";
    } else {
      clickSound.play();
      lastSound = clickSound;
      head.textContent = "";
    }

    // Get row and column index
    // Remove the clicked cell
    ev.target.textContent = "";
    ev.target.style.backgroundColor = "#450084";
    ev.target.style.borderColor = "#450084";

    const row = ev.target.parentElement;
    let remainder = 10;
    row.querySelectorAll("td").array.forEach(td => {
      if (td.style.backgroundColor != "#450084") {
        remaining--;
      }
    });

    if (remainder % 2 == 1) {
      row.classList.add("odd");
    } else {
      row.classList.remove("odd");
    }
  }

  tb.addEventListener('click', onClick);
  </script>
</body>
</html>
